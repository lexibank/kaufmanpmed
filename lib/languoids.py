LANGUOIDS = {
    'WASw     Western (Tancanhuitz)',
    'WASc     Central (Tantoyuca)',

    'WASe     Eastern (Chontla, Chinampa)',
    'MAMt     Tacana*',
    'MAMo     Ostuncalco',
    'MAMc     Cajola*',
    'MAMi     San Idlefonso Ixtahuaca*n',
    'IXLne    Nebaj',
    'IXLco    Cotzal',
    'IXLch    Chajul',
    'KCHn     Nahuala*',
    'KCHq     Quiche*',
    'KCHc     Chichicastenango',
    'KCHk     Chicaj',
    'KAQp     Patzu*n',
    'KAQc     Comalapa',
    'KAQt     Tecpa*n',
    'PQMp     Pali*n',
    'PQMj     San Lui*s Jilotepeque',
    'QEQw     Western (Coba*n, Chamelco)',
    'QEQe     Eastern (Lanqui*n and Cahabo*n)',
    'QEQl&c   Lanqui*n and Cahabo*n',

    'pM        proto-Mayan',
    'pWa       proto-Wastekan',
    'WAS       Wasteko /teenek/',
    #     occ = occidental/western (Tancanhuitz /k'aan=witx/, Aquismo*n
    #/7akits=mom/)
    #     cen = central (Tantoyuca /tam toyok/)
    #     ori = oriental/western (Chontla, Chinampa)
    'KAB       Kabil ("Chicomuselteco")',
    'pYu       proto-Yukatekan',
    'YUK       Yukateko /maHya/',
    'LAK       Lakantun',
    #     mex = Mexican (Naha*)
    #     gua = Guatemala
    'ITZ       Itzaj',
    'MOP       Mopan',
    'pCM       proto Central Mayan',
    'pWM       proto Western Mayan',
    'pGTz      proto Greater Tzeltalan',
    'EpM       Epigraphic Mayan',
    'pCh       proto-Ch\'olan',
    'CHR       Ch\'orti7',
    #     joc = Jocota*n
    #     cam = Camota*n
    'CHT       Ch\'olti7 [col]',
    'CHL       Ch\'ol',
    #     til = Tila
    #     tum = Tumbala*
    'YOK       Yokot\'an (Chontal of Tabasco)',
    'pTzp      proto-Tzeltalan Proper',
    'TZO       Tzotzil /b\'atz\'i k\'op/',
    #     col = Colonial Tzotzil of Zinacanta*n
    #     and = San Andre*s (Larra*inzar)
    #     che = Chenalho* /ch'enal=o7/
    #     zin = Zinacanta*n /sotz'=leb'/
    #     cha = (San Juan) Chamula /cham=o7/
    #     hui = Huixta*n
    #     bar = San Bartolo
    "TZE       Tzeltal /b'atz'il k'op/",
    #     col = Colonial Tzetal of Copanahuastla
    #     bch = Bachajo*n /b'ahch'ajom/
    #     ten = Tenejapa /job'el to/
    #     oxc = Oxchuc /7ox=chuhk/
    #     ama = Amatenango /tzob'on=tajal/
    #     agu = Aguacatenango /tz'eht=te7/
    "pGQ       proto Greater Q'anjob'alan",
    "pChT      proto-Chujean (proto-Chuj-Tojol 7ab'al)",
    "TOJ       Tojol 7ab'al",
    "CHJ       Chuj",
    #     ixt = (San Mateo) Ixtata*n
    #     coa = (San Sebastia*n) Coata*n
    "pQp       proto-Q'anjob'al Proper",
    "QAN       Q'anjob'al",
    #     sol = Soloma
    #     eul = Santa Eulalia
    #     bar = Barillas
    'AKA       Akateko',
    #     aca = (San Miguel) Acata*n
    #     raf = San Rafael (La Independencia)
    "POP       Popti7",
    "pKo       proto-Kotoke /qato7k'/",
    'MCH       Mocho* /mo:cho7/ ("Motozintleco")',
    'TUZ       "Tuzanteco" /mu:chu7/',

    'pEM        proto Eastern Mayan',
    'pGM        proto Greater Mamean',
    'pMp        proto-Mamean Proper',
    'TEK        Teko (Cuilquen*o)',
    #      maz = Mazapa (de Madero)
    #      ama = Amatenango (de la Frontera)
    #      tec = Tectita*n
    'MAM        Mam /qyool/',
    #      col = Colonial Northern Mam
    #      w:tac = Western Mam, esp. of Tacana*
    #      s:ost = Southern Mam, esp. of Ostuncalco
    #      n:ixt = Northern Mam of Ixtahuaca*n
    #      n:tod = Northern Mam of Todos Santos
    'pIx        proto-Ixilan',
    'AWA        Awakateko',
    #      agu = Aguacata*n
    #      cha = Chalchita*n
    'IXL        Ixil',
    #      col = Colonial Ixil
    #      neb = Nebaj /na7b'a/
    #      cot = Cotzal /k'usal/
    #      cha = Chajul /tx'aol/
    "pGK        proto Greater K'iche'an",
    "pUK        proto Uspanteko-K'iche'an",
    'USP        Uspanteko (Musre*)',
    "pKp        proto-K'iche'an Proper",
    "KCH        K'iche7 /k'iche7 ch'aab'al/",
    #      col = Colonial K'iche7
    #      nah = Nahuala* /nawala7/
    #      ixt = (Santa Catarina) Ixtahuaca*n /xankata7l/
    #      tot = Totonicapa*n /ch+ u-wi7 meq'en=a7/
    #      mom = Momostenango /ch+ u-waa tz'aaq/
    #      qui = Quiche*
    #      chi = Chichicastenango /ch+ u-wi7 lah/
    #      cub = Cubulco /kub'uul/
    #      rab = Rabinal /rab'inaal/
    #      caj = San Miguel Chicaj /chi+ kaaj/
    'SIP        Sipakapense',
    'SAK        Sakapulteko',

    "TZU        Tz'utujiil",
    #      ped = San Pedro (La Laguna)
    #      jua = San Juan (La Laguna)
    #      ati = (Santiago) Atitla*n
    'KAQ        Kaqchikeel',
    #      col = Colonial Kaqchikeel
    #      sol = Solola* /tzolol=a7/
    #      com = Comalapa

    #      ptz = Patzu*n /pa+ su7n/
    #      tec = Tecpa*n /7ixim=chee7/
    #      mar = Santa Mari*a de Jesu*s
    "pPQ        proto Poqom-Q'eqchi'",
    'PQM        Poqomam',
    #      mix = Mixco
    #      chi = Chinautla
    #      pal = Palin
    #      pin = (San Pedro) Pinula
    #      jil = (San Lui*s) Jilotepeque
    'PCH        Poqomchii7',
    #      cru = Santa Cruz
    #      cri = San Cristo*bal Verapaz
    #      tac = Tactic
    #      tam = Tamahu*
    "QEQ        Q'eqchi7",
    #      cob = Coba*n
    #      cha = (San Juan) Chamelco
    #      lan = Lanqui*n
    #      cah = Cahabo*n /k'ajb'om/

    # major genetic groupings for which reconstructions are often cited:
    'CM = Central Mayan: WM + EM',
    'WM = Western Mayan: GTz + GQ',
    'EM = Eastern Mayan: GM + GK',
    'GTz = Ch + Tz',
    'GQ = Chujean + Qanjobal + Kotoke',
    'GM = Ix + Mp',
    'GK = UK + PQ',
    'LL (Lowland) = Yukatekan + Cholan',
    'GLL (Greater Lowland) = Yukatekan + Greater Tzeltalan',
    'Hue (Huehuetenango) = GQ (some or all, usually not Kotoke) + GM (some or all)',
    #(cldf-datasets) robert@lingn35:~/projects/cldf-datasets/mayanphylogeny$ python parse.py | grep Chis | wc -l
    #50
    'Chis Chiapas',  # private communication, Miguel Buitrago
    #(cldf-datasets) robert@lingn35:~/projects/cldf-datasets/mayanphylogeny$ python parse.py | grep Kp | wc -l
    #208
    'Kp pKp?',
    #(cldf-datasets) robert@lingn35:~/projects/cldf-datasets/mayanphylogeny$ python parse.py | grep Mp | wc -l
    #102
    'Mp pMp?',
    #(cldf-datasets) robert@lingn35:~/projects/cldf-datasets/mayanphylogeny$ python parse.py | grep Qp | wc -l
    #39
    'Qp pQp?',
    'UK pUK?',
    'Was Alias for WAS?',
    'Yu pYu?',
    'Tz pTzp?',
    'Tzp pTzp?',
    "pQa pGQ?",
    'M pM?',
    'pM? pM?',
    'POQ pPQ?',
    'pChl pCh?',
    'eGK pGK?',
    'PQ pPQ?',
    'TCh pChT?',
    'I pIx?',
    'pI pIx?',
    'pTz pGTz?',
    'pQ ?',  # pQ+P
    'P ?',  # pQ+P
    'Poqom ?',  # pre-Poqom
    'Q ?',  # kP+Q
    'QK ?',  # QK+
    'Ch pCh?',
    'Nawa Non-Mayan language',
    'KOT ?',  # pre-KOT
    'NEG ?',  # NEG
    'eKP ?',  # eKP
    'Ip ?',  # Ip
    "Ch'olan ?",  # pre-Ch'olan

}
LANGUOIDS = {l.split(None, maxsplit=1)[0]: l.split(None, maxsplit=1)[1] for l in LANGUOIDS}


def match_languoids(s):
    comps = [ss for ss in s.split('+') if ss]
    if all(comp.replace('pre-', '').replace('?', '') in LANGUOIDS for comp in comps):
        return comps
